<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Library Page</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css"
    />
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/toastify-js"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-light navbar-custom">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">
          <img
            src="https://www.svgrepo.com/show/530642/folder.svg"
            width="150"
            alt="Library Logo"
          />
        </a>
        <div class="navbar-collapse">
          <form id="searchForm" class="search-form" onsubmit="search(event)">
            <select
              id="searchCategory"
              class="form-select"
              aria-label="Search category"
            >
              <option value="name">Name</option>
              <option value="authors">Authors</option>
              <option value="category">Category</option>
              <option value="year_published">Year of publish</option>
            </select>
            <input
              id="searchKeyword"
              class="form-control me-2"
              type="search"
              placeholder="Search books, authors..."
              aria-label="Search"
            />
            <button id="search" class="btn btn-outline-dark" type="submit">
              Search
            </button>
          </form>
          <ul class="navbar-nav mx-auto">
            <li class="nav-item">
              <a id="myBooksLink" class="nav-link active" href="profile.html"
                >My Books</a
              >
            </li>
          </ul>
        </div>
        <ul class="navbar-nav ms-3">
          <li class="nav-item">
            <button id="login" class="nav-link">Log In</button>
          </li>
          <li class="nav-item">
            <a id="signUp" class="btn btn-primary" href="register.html"
              >Sign Up</a
            >
          </li>
          <li class="nav-item">
            <span
              class="menu-icon"
              data-bs-toggle="offcanvas"
              data-bs-target="#offcanvasNavbar"
              aria-controls="offcanvasNavbar"
            >
              &#9776;
            </span>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Offcanvas Menu -->
    <div
      class="offcanvas offcanvas-end bg-dark text-white"
      tabindex="-1"
      id="offcanvasNavbar"
      aria-labelledby="offcanvasNavbarLabel"
    >
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Menu</h5>
        <button
          type="button"
          class="btn-close btn-close-white"
          data-bs-dismiss="offcanvas"
          aria-label="Close"
        ></button>
      </div>
      <div class="offcanvas-body">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a id="myBooksLink2" class="nav-link active text-white" href="#"
              >My Books</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="admin.html">Admin</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="about.html">Contact Us</a>
          </li>
        </ul>
      </div>
    </div>

    <div
      id="display"
      class="content-container"
      style="padding: 20px; background-color: #1b1f24"
    >
      <h1
        style="
          text-align: center;
          font-weight: bold;
          margin-bottom: 40px;
          color: #a9e5bb;
        "
      >
        Admin Dashboard
      </h1>

      <div
        class="accordion accordion-flush"
        id="adminAccordion"
        style="color: #a9e5bb"
      >
        <div
          class="accordion-item"
          style="background-color: #2d3b42; border: none"
        >
          <h2 class="accordion-header" id="headingOne">
            <button
              class="accordion-button collapsed"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#flush-collapseUser"
              aria-expanded="false"
              aria-controls="flush-collapseUser"
              style="background-color: #3e4e56; color: #a9e5bb"
            >
              Update User
            </button>
          </h2>
          <div
            id="flush-collapseUser"
            class="accordion-collapse collapse"
            aria-labelledby="headingOne"
            data-bs-parent="#adminAccordion"
          >
            <div class="accordion-body" style="background-color: #2d3b42">
              <h2
                style="
                  font-size: 20px;
                  font-weight: bold;
                  margin-bottom: 20px;
                  color: #a9e5bb;
                "
              >
                Update User
              </h2>

              <!-- Select User by Email -->
              <div style="margin-bottom: 15px">
                <label
                  for="select_user_email"
                  style="
                    display: block;
                    font-weight: bold;
                    margin-bottom: 5px;
                    color: #a9e5bb;
                  "
                  >Select User by Email</label
                >
                <select
                  id="select_user_email"
                  style="
                    width: 100%;
                    padding: 10px;
                    border: 1px solid #4d6b55;
                    border-radius: 5px;
                    background-color: #3e4e56;
                    color: #a9e5bb;
                  "
                >
                  <!-- This will be dynamically populated with user emails -->
                </select>
              </div>

              <!-- Other Fields -->
              <div style="margin-bottom: 15px">
                <label
                  for="user_id"
                  style="
                    display: block;
                    font-weight: bold;
                    margin-bottom: 5px;
                    color: #a9e5bb;
                  "
                  >User ID</label
                >
                <input
                  type="text"
                  id="user_id"
                  style="
                    width: 100%;
                    padding: 10px;
                    border: 1px solid #4d6b55;
                    border-radius: 5px;
                    background-color: #3e4e56;
                    color: #a9e5bb;
                  "
                  readonly
                />
              </div>

              <!-- Fields for First Name, Last Name, Gender, Age, City, Address, Phone Number, and Status -->
              <button
                type="button"
                id="updateUserBtn"
                style="
                  padding: 10px 20px;
                  background-color: #4d6b55;
                  color: white;
                  border: none;
                  border-radius: 5px;
                "
              >
                Update User
              </button>
            </div>
          </div>
        </div>

        <!-- Update Book Section -->
        <div
          class="accordion-item"
          style="background-color: #2d3b42; border: none"
        >
          <h2 class="accordion-header" id="headingTwo">
            <button
              class="accordion-button collapsed"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#flush-collapseBook"
              aria-expanded="false"
              aria-controls="flush-collapseBook"
              style="background-color: #3e4e56; color: #a9e5bb"
            >
              Update Book
            </button>
          </h2>
          <div
            id="flush-collapseBook"
            class="accordion-collapse collapse"
            aria-labelledby="headingTwo"
            data-bs-parent="#adminAccordion"
          >
            <div class="accordion-body" style="background-color: #2d3b42">
              <h2
                style="
                  font-size: 20px;
                  font-weight: bold;
                  margin-bottom: 20px;
                  color: #a9e5bb;
                "
              >
                Update Book
              </h2>

              <!-- Select Book by Name -->
              <div style="margin-bottom: 15px">
                <label
                  for="select_book_name"
                  style="
                    display: block;
                    font-weight: bold;
                    margin-bottom: 5px;
                    color: #a9e5bb;
                  "
                  >Select Book by Name</label
                >
                <select
                  id="select_book_name"
                  style="
                    width: 100%;
                    padding: 10px;
                    border: 1px solid #4d6b55;
                    border-radius: 5px;
                    background-color: #3e4e56;
                    color: #a9e5bb;
                  "
                >
                  <!-- Dynamically populated with book names -->
                </select>
              </div>

              <!-- Fields for Book Name, Author, Category, Year Published, Summary, Type of Borrow, Status, and Image URL -->
              <button
                id="updateBookBtn"
                type="button"
                style="
                  padding: 10px 20px;
                  background-color: #4d6b55;
                  color: white;
                  border: none;
                  border-radius: 5px;
                "
              >
                Update Book
              </button>
            </div>
          </div>
        </div>

        <!-- View Loans Section -->
        <div
          class="accordion-item"
          style="background-color: #2d3b42; border: none"
        >
          <h2 class="accordion-header" id="headingThree">
            <button
              class="accordion-button collapsed"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#flush-collapseLoans"
              aria-expanded="false"
              aria-controls="flush-collapseLoans"
              style="background-color: #3e4e56; color: #a9e5bb"
            >
              View Loans
            </button>
          </h2>
          <div
            id="flush-collapseLoans"
            class="accordion-collapse collapse"
            aria-labelledby="headingThree"
            data-bs-parent="#adminAccordion"
          >
            <div class="accordion-body" style="background-color: #2d3b42">
              <h2
                style="
                  font-size: 20px;
                  font-weight: bold;
                  margin-bottom: 20px;
                  color: #a9e5bb;
                "
              >
                View Loans
              </h2>
              <div id="loan_list" style="margin-top: 20px; color: #a9e5bb">
                <table
                  id="loanTable"
                  style="width: 100%; border-collapse: collapse; color: #a9e5bb"
                >
                  <thead>
                    <tr>
                      <th
                        style="
                          border: 1px solid #4d6b55;
                          padding: 10px;
                          text-align: left;
                        "
                      >
                        Book Name
                      </th>
                      <th
                        style="
                          border: 1px solid #4d6b55;
                          padding: 10px;
                          text-align: left;
                        "
                      >
                        Loan Date
                      </th>
                      <th
                        style="
                          border: 1px solid #4d6b55;
                          padding: 10px;
                          text-align: left;
                        "
                      >
                        Return Date
                      </th>
                      <th
                        style="
                          border: 1px solid #4d6b55;
                          padding: 10px;
                          text-align: left;
                        "
                      >
                        Status
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Loan details will populate here -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- Add New Book Section -->
        <div
          class="accordion-item"
          style="background-color: #2d3b42; border: none"
        >
          <h2 class="accordion-header" id="headingFour">
            <button
              class="accordion-button collapsed"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#flush-collapseAddBook"
              aria-expanded="false"
              aria-controls="flush-collapseAddBook"
              style="background-color: #3e4e56; color: #a9e5bb"
            >
              Add New Book
            </button>
          </h2>
          <div
            id="flush-collapseAddBook"
            class="accordion-collapse collapse"
            aria-labelledby="headingFour"
            data-bs-parent="#adminAccordion"
          >
            <div class="accordion-body" style="background-color: #2d3b42">
              <h2
                style="
                  font-size: 20px;
                  font-weight: bold;
                  margin-bottom: 20px;
                  color: #a9e5bb;
                "
              >
                Add New Book
              </h2>

              <!-- Fields for Adding a New Book -->
              <button
                type="button"
                onclick="addBook()"
                style="
                  padding: 10px 20px;
                  background-color: #4d6b55;
                  color: white;
                  border: none;
                  border-radius: 5px;
                "
              >
                Add Book
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="js/admin.js"></script>
  </body>
</html>
